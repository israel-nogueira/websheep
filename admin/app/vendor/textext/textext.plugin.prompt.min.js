(function(e){function b(){}e.fn.textext.TextExtPrompt=b;e.fn.textext.addPlugin("prompt",b);var f=b.prototype,g="text-hide-prompt",a="prompt",d="html.prompt",c={prompt:"Awaiting input...",html:{prompt:'<div class="text-prompt"/>'}};f.init=function(j){var k=this,l="placeholder",i,h;k.baseInit(j,c);i=e(k.opts(d));e(k).data("container",i);k.core().wrapElement().append(i);k.setPrompt(k.opts(a));h=j.input().attr(l);if(!h){h=k.opts(a)}j.input().attr(l,"");if(h){k.setPrompt(h)}if(e.trim(k.val()).length>0){k.hidePrompt()}k.on({blur:k.onBlur,focus:k.onFocus,postInvalidate:k.onPostInvalidate,postInit:k.onPostInit})};f.onPostInit=function(h){this.invalidateBounds()};f.onPostInvalidate=function(h){this.invalidateBounds()};f.invalidateBounds=function(){var i=this,h=i.input();i.containerElement().css({paddingLeft:h.css("paddingLeft"),paddingTop:h.css("paddingTop")})};f.onBlur=function(i){var h=this;h.startTimer("prompt",0.1,function(){h.showPrompt()})};f.showPrompt=function(){var i=this,h=i.input();if(e.trim(i.val()).length===0&&!h.is(":focus")){i.containerElement().removeClass(g)}};f.hidePrompt=function(){this.stopTimer("prompt");this.containerElement().addClass(g)};f.onFocus=function(h){this.hidePrompt()};f.setPrompt=function(h){this.containerElement().text(h)};f.containerElement=function(){return e(this).data("container")}})(jQuery);